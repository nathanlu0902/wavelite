{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\nvar got = require('got');\nvar registryUrl = require('registry-url');\n\nfunction get(url, cb) {\n\tgot(url, {json: true}, function (err, data) {\n\t\tif (err && err.code === 404) {\n\t\t\tcb(new Error('Package or version doesn\\'t exist'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (err) {\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\tcb(null, data);\n\t});\n}\n\nmodule.exports = function (name, version, cb) {\n\tvar url = registryUrl(name.split('/')[0]) + name + '/';\n\n\tif (typeof version !== 'string') {\n\t\tcb = version;\n\t\tversion = '';\n\t}\n\n\tget(url + version, cb);\n};\n\nmodule.exports.field = function (name, field, cb) {\n\tvar url = registryUrl(name.split('/')[0]) +\n\t\t'-/by-field/?key=%22' + name + '%22&field=' + field;\n\n\tget(url, function (err, res) {\n\t\tif (err) {\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\tif (Object.keys(res).length === 0) {\n\t\t\tcb(new Error('Field `' + field + '` doesn\\'t exist'));\n\t\t\treturn;\n\t\t}\n\n\t\tcb(null, res[name][field]);\n\t});\n};\n"]}